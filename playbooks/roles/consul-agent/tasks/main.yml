---
- name: Install necessary packages
  yum: name="{{ item  }}" state=present
  with_items:
    - http://stackforce.cloudlinux.com/repos/consul-0.6.3-1.el7.centos.x86_64.rpm

- name: Default consul config
  template: src=consul.json.j2 dest=/etc/consul/consul.json owner=root group=consul

- name: Enable consul
  service: name=consul state=started enabled=yes

